(this["webpackJsonpdiscord-clone"]=this["webpackJsonpdiscord-clone"]||[]).push([[0],{100:function(e,c,t){},105:function(e,c,t){},106:function(e,c,t){},112:function(e,c,t){},113:function(e,c,t){},114:function(e,c,t){},115:function(e,c,t){},116:function(e,c,t){},117:function(e,c,t){},118:function(e,c,t){},119:function(e,c,t){},120:function(e,c,t){},121:function(e,c,t){},122:function(e,c,t){},123:function(e,c,t){},124:function(e,c,t){},125:function(e,c,t){},126:function(e,c,t){},127:function(e,c,t){},128:function(e,c,t){},129:function(e,c,t){},130:function(e,c,t){},131:function(e,c,t){},132:function(e,c,t){},133:function(e,c,t){},134:function(e,c,t){},135:function(e,c,t){},136:function(e,c,t){"use strict";t.r(c);var s=t(3),n=t.n(s),a=t(36),r=t.n(a),i=(t(97),t(6)),o=(t(98),t(18)),d=t(12),l=t(1),j=Object(s.createContext)(),m=function(e){var c=e.reducer,t=e.initalState,n=e.children;return Object(l.jsx)(j.Provider,{value:Object(s.useReducer)(c,t),children:n})},h=function(){return Object(s.useContext)(j)},u=(t(100),t(15));u.a.initializeApp({apiKey:"AIzaSyCJy0oE9vjimiagjBBR1R-6POVicglYfYo",authDomain:"discord-clone-ed9b6.firebaseapp.com",projectId:"discord-clone-ed9b6",storageBucket:"discord-clone-ed9b6.appspot.com",messagingSenderId:"1009420001473",appId:"1:1009420001473:web:a681cb02d7aafe65def440"});var b=u.a.firestore(),O=u.a.auth(),v=new u.a.auth.GoogleAuthProvider,x=b,p=t(57),_="SET_USER",f=function(e,c){switch(c.type){case _:return Object(p.a)(Object(p.a)({},e),{},{user:c.user,userId:c.userId});default:return e}};var g=function(){var e=h(),c=Object(i.a)(e,2),t=c[0],s=(t.user,t.userId,c[1]);return Object(l.jsxs)("div",{className:"login",children:[Object(l.jsxs)("div",{className:"login__discord",children:[Object(l.jsx)("img",{src:"https://discord.com/assets/3437c10597c1526c3dbd98c737c2bcae.svg",alt:"Discord Logo"}),Object(l.jsx)("p",{children:"Welcome to my Discord-Clone"})]}),Object(l.jsxs)("button",{onClick:function(){O.signInWithPopup(v).then((function(e){s({type:_,user:e.user,userId:e.additionalUserInfo.profile.id}),x.collection("users").doc("".concat(e.additionalUserInfo.profile.id)).exists&&x.collection("users").doc("".concat(e.additionalUserInfo.profile.id)).set({imgUrl:e.user.photoURL,name:e.user.displayName,friends:[],serverNames:[]})})).catch((function(e){return console.log("Auth: ",e)}))},className:"login__button",children:[Object(l.jsx)("img",{src:"https://lh3.googleusercontent.com/COxitqgJr1sJnIDe8-jiKhxDx1FrYbtRHKJ9z_hELisAlapwE9LUPh6fcXIfb5vwpbMl4xl9H9TRFPc5NOO8Sb3VSgIBrfRYvW6cUA",alt:"Google Logo"}),Object(l.jsx)("p",{children:"Sign In with Google"})]})]})},N=(t(105),t(106),t(26)),S=t.n(N);var y=function(e){var c=e.imgUrl,t=e.alt,n=e.Icon,a=e.serverId,r=e.discord,o=h(),j=Object(i.a)(o,1)[0],m=j.user,b=j.userId,O=Object(d.g)(),v=Object(s.useState)(""),p=Object(i.a)(v,2),_=p[0],f=p[1];Object(s.useEffect)((function(){x.collection("servers/".concat(a,"/channels")).where("name","==","general").onSnapshot((function(e){e.forEach((function(e){return f(e.id)}))}))}),[a]);var g=function(e,c){var t=document.querySelector(".serverBubble.discord"),s=document.querySelectorAll(".serverBubble._server"),n=document.querySelectorAll(".serverBubble.icon");t.classList.remove("active"),s.forEach((function(e){return e.classList.remove("active")})),n.forEach((function(e){return e.classList.remove("active")})),"discord"===c&&t.classList.add("active"),"server"===c&&e.classList.add("active"),"icon"===c&&(e.classList.length?1===e.classList.length?e.parentElement.classList.add("active"):e.classList.add("active"):e.parentElement.parentElement.classList.add("active"))};return r?Object(l.jsx)("div",{className:"serverBubble discord active",onClick:function(e){O.push("/home/".concat(b)),g(e.target,"discord")},children:Object(l.jsx)("img",{src:c,alt:t})}):n?Object(l.jsx)("div",{className:"serverBubble icon",onClick:function(e){g(e.target,"icon"),n===S.a?(O.push("/".concat(b,"/servers/new")),function(){var e=prompt("Please enter the server name");e&&x.collection("servers").add({name:e,backgroundImgUrl:""}).then((function(c){console.log("Document written with ID: ",c.id),x.collection("servers/".concat(c.id,"/channels")).add({name:"general",description:"General channel"}).then((function(e){console.log("General channel has been added with ID: ",e.id)})).catch((function(e){return console.log("Error while adding general channel ",e)})),x.collection("servers/".concat(c.id,"/members")).add({name:m.displayName,nickname:m.displayName,photo:m.photoURL}),x.collection("users").doc(b).update({serverNames:u.a.firestore.FieldValue.arrayUnion(e)}).then((function(){return console.log("Document successfully updated")})).catch((function(e){return console.log("Error during the update: ",e)}))})).catch((function(e){return console.log("Error adding document",e)}))}()):O.push("/guild-discovery/home")},children:Object(l.jsx)(n,{})}):Object(l.jsx)("div",{className:"serverBubble _server",style:{backgroundImage:"url(".concat(c,")"),backgroundSize:"55px 55px",backgroundPosition:"center center"},onClick:function(e){g(e.target,"server"),O.push("/".concat(b,"/servers/").concat(a,"/channels/").concat(_))}})},C=t(40),k=t.n(C);var I=function(){var e=Object(s.useState)([]),c=Object(i.a)(e,2),t=c[0],n=c[1],a=h(),r=Object(i.a)(a,1)[0].userId;return Object(s.useEffect)((function(){x.collection("users").doc(r).onSnapshot((function(e){x.collection("servers").where("name","in",e.data().serverNames).onSnapshot((function(e){n(e.docs.map((function(e){return{id:e.id,background:e.data().backgroundImgUrl}})))}))}))}),[r]),Object(l.jsxs)("div",{className:"servers",children:[Object(l.jsx)(y,{imgUrl:"https://discord.com/assets/145dc557845548a36a82337912ca3ac5.svg",alt:"Discord Logo",discord:!0},"discordLogo"),Object(l.jsx)("hr",{}),t.map((function(e){return Object(l.jsx)(y,{imgUrl:e.background,alt:"Server name",serverId:e.id},e.id)})),Object(l.jsx)(y,{Icon:S.a},"addIcon"),Object(l.jsx)(y,{Icon:k.a},"exploreIcon")]})},w=(t(112),t(113),t(114),t(150)),E=t(41),F=t.n(E);var L=function(e){var c=e.photo,t=e.name,s=e.friendId,n=h(),a=Object(i.a)(n,1)[0].userId,r=Object(d.g)();return Object(l.jsxs)("div",{className:"conversation",onClick:function(e){var c;c=e.target,document.querySelectorAll(".conversation").forEach((function(e){return e.classList.remove("active")})),"MuiAvatar-img active"===c.className&&c.parentElement.parentElement.parentElement.classList.add("active"),""===c.className&&c.parentElement.parentElement.classList.add("active"),"conversation"===c.className&&c.classList.add("active"),"conversation__user active"===c.className&&c.parentElement.classList.add("active"),r.push("/home/".concat(a,"/friends/chats/").concat(s))},children:[Object(l.jsxs)("div",{className:"conversation__user",children:[Object(l.jsx)(w.a,{src:c,alt:t}),Object(l.jsx)("p",{children:t})]}),Object(l.jsx)(F.a,{onClick:function(){x.doc("users/".concat(a)).update({friends:u.a.firestore.FieldValue.arrayRemove(t)}),x.collection("users/".concat(a,"/messages")).where("to","==",t).onSnapshot((function(e){e.forEach((function(e){console.log(e.id),x.doc("users/".concat(a,"/messages/").concat(e.id)).delete().then((function(){return console.log("The message has been successfully deleted.")})).catch((function(e){return console.log("Error deleting the message: ",e)}))}))})),r.push("/")}})]})},U=(t(115),t(64)),H=t.n(U),M=t(65),D=t.n(M),B=t(66),T=t.n(B),P=t(67),q=t.n(P),A=t(42),R=t.n(A);var V=function(){var e=h(),c=Object(i.a)(e,1)[0].user,t=Object(s.useState)(!0),n=Object(i.a)(t,2),a=n[0],r=n[1],o=Object(s.useState)(!0),d=Object(i.a)(o,2),j=d[0],m=d[1],u=function(){return r(!a)},b=function(){return m(!j)};return Object(l.jsxs)("div",{className:"me",children:[Object(l.jsx)(w.a,{src:c.photoURL,alt:c.displayName}),Object(l.jsxs)("div",{className:"me__info",children:[Object(l.jsx)("p",{children:c.displayName}),Object(l.jsx)("p",{children:"#5681"})]}),Object(l.jsxs)("div",{className:"me__icons",children:[a?Object(l.jsx)(H.a,{onClick:u}):Object(l.jsx)(D.a,{onClick:u}),j?Object(l.jsx)(T.a,{onClick:b}):Object(l.jsx)(q.a,{onClick:b}),Object(l.jsx)(R.a,{})]})]})},J=t(43),G=t.n(J),W=t(32),K=t.n(W),Y=t(44),z=t.n(Y);var X=function(){var e=h(),c=Object(i.a)(e,1)[0].userId,t=Object(s.useState)(),n=Object(i.a)(t,2),a=n[0],r=n[1],o=Object(s.useState)({}),j=Object(i.a)(o,2),m=j[0],b=j[1],O=Object(d.g)();Object(s.useEffect)((function(){x.collection("users").doc(c).onSnapshot((function(e){x.collection("users").where("name","in",e.data().friends).onSnapshot((function(e){r(e.docs.map((function(e){return{id:e.id,name:e.data().name,imgUrl:e.data().imgUrl}})))}))}))}),[c]);var v=function(e){var c=document.querySelector(".homeSidebar__menu__item:first-child"),t=document.querySelector(".homeSidebar__menu__item:nth-child(2)"),s=document.querySelector(".homeSidebar__menu__item:last-child");c.classList.remove("active"),t.classList.remove("active"),s.classList.remove("active"),1===e&&c.classList.add("active"),2===e&&t.classList.add("active"),3===e&&s.classList.add("active")};return Object(l.jsxs)("div",{className:"homeSidebar",children:[Object(l.jsx)("div",{className:"homeSidebar__search",children:Object(l.jsx)("input",{type:"text",placeholder:"Find or start a conversation"})}),Object(l.jsxs)("div",{className:"homeSidebar__menu",children:[Object(l.jsxs)("div",{className:"homeSidebar__menu__item active",onClick:function(){v(1),O.push("/home/".concat(c,"/friends"))},children:[Object(l.jsx)(G.a,{}),Object(l.jsx)("p",{children:"Friends"})]}),Object(l.jsxs)("div",{className:"homeSidebar__menu__item",onClick:function(){v(2),O.push("/discovery")},children:[Object(l.jsx)(K.a,{}),Object(l.jsx)("p",{children:"Stage Discovery"})]}),Object(l.jsxs)("div",{className:"homeSidebar__menu__item",onClick:function(){v(3),O.push("/store")},children:[Object(l.jsx)(z.a,{}),Object(l.jsx)("p",{children:"Nitro"})]})]}),Object(l.jsxs)("div",{className:"homeSidebar__chats",children:[Object(l.jsxs)("div",{className:"homeSidebar__chats__title",children:[Object(l.jsx)("p",{children:"Direct messages"}),Object(l.jsx)(S.a,{onClick:function(){var e=!0,t=prompt("Start conversation with: ");t&&(x.collection("users").doc(c).onSnapshot((function(s){s.data().friends.forEach((function(s){s===t&&(x.collection("users").where("name","==",t).onSnapshot((function(e){e.forEach((function(e){return O.push("/home/".concat(c,"/friends/chats/").concat(e.id))}))})),e=!1)}))})),e&&(x.collection("users").where("name","==",t).onSnapshot((function(e){e.docs.length?b(e.docs.map((function(e){return{id:e.id,name:e.data().name,imgUrl:e.data().imgUrl}}))):console.log("There is no user with the given name ".concat(t,"."))})),m&&x.collection("users").doc(c).update({friends:u.a.firestore.FieldValue.arrayUnion(t)})))}})]}),Object(l.jsx)("div",{className:"homeSidebar__chats__conversations",children:null===a||void 0===a?void 0:a.map((function(e){return Object(l.jsx)(L,{photo:e.imgUrl,name:e.name,friendId:e.id},e.id)}))})]}),Object(l.jsx)(V,{})]})},Q=(t(116),t(117),t(68)),Z=t.n(Q),$=t(27),ee=t.n($),ce=t(28),te=t.n(ce);var se=function(){var e=Object(d.g)(),c=Object(d.i)(),t=function(e){document.querySelectorAll(".homeFriendsHeader__menu__item:not(.homeFriendsHeader__menu__item:last-child)").forEach((function(e){return e.classList.remove("active")})),e.classList.add("active")};return Object(l.jsxs)("div",{className:"homeFriendsHeader",children:[Object(l.jsxs)("div",{className:"homeFriendsHeader__menu",children:[Object(l.jsxs)("div",{className:"homeFriendsHeader__menu__title",children:[Object(l.jsx)(G.a,{}),Object(l.jsx)("p",{children:"Friends"})]}),Object(l.jsx)("div",{className:"homeFriendsHeader__menu__item active",onClick:function(s){t(s.target),e.push("".concat(c.path))},children:"Online"}),Object(l.jsx)("div",{className:"homeFriendsHeader__menu__item",onClick:function(s){t(s.target),e.push("".concat(c.path,"/all"))},children:"All"}),Object(l.jsx)("div",{className:"homeFriendsHeader__menu__item",onClick:function(s){t(s.target),e.push("".concat(c.path,"/pending"))},children:"Pending"}),Object(l.jsx)("div",{className:"homeFriendsHeader__menu__item",onClick:function(s){t(s.target),e.push("".concat(c.path,"/blocked"))},children:"Blocked"}),Object(l.jsx)("div",{className:"homeFriendsHeader__menu__item",children:"Add Friend"})]}),Object(l.jsxs)("div",{className:"homeFriendsHeader__icons",children:[Object(l.jsx)("span",{className:"homeFriendsHeader__icons__icon",children:Object(l.jsx)(Z.a,{})}),Object(l.jsx)(ee.a,{}),Object(l.jsx)(te.a,{})]})]})};t(118);var ne=function(){return Object(l.jsxs)("div",{className:"activeNow",children:[Object(l.jsx)("h2",{children:"Active Now"}),Object(l.jsx)("h3",{children:"It's quit for now..."}),Object(l.jsx)("p",{children:"When a friend starts an activity-like playing a game or hanging out on voice-we'll show it here!"})]})};var ae=function(){var e=Object(d.i)();return Object(l.jsxs)("div",{className:"homeFriends",children:[Object(l.jsx)(se,{}),Object(l.jsxs)("div",{className:"homeFriends__main",children:[Object(l.jsxs)("div",{className:"homeFriends__main__friends",children:[Object(l.jsx)("img",{src:"https://i.redd.it/epufxryqsvu11.jpg",alt:"No one's around to play with Wumpus"}),Object(l.jsx)("p",{children:"No one's around to play with Wumpus"}),Object(l.jsxs)(d.d,{children:[Object(l.jsx)(d.b,{path:"".concat(e.path,"/all"),children:Object(l.jsx)("p",{children:"All"})}),Object(l.jsx)(d.b,{path:"".concat(e.path,"/pending"),children:Object(l.jsx)("p",{children:"Pending"})}),Object(l.jsx)(d.b,{path:"".concat(e.path,"/blocked"),children:Object(l.jsx)("p",{children:"Blocked"})}),Object(l.jsx)(d.b,{path:"".concat(e.path),children:Object(l.jsx)("p",{children:"Online"})})]})]}),Object(l.jsx)(ne,{})]})]})},re=(t(119),t(120),t(45)),ie=t.n(re),oe=t(69),de=t.n(oe),le=t(70),je=t.n(le),me=t(46),he=t.n(me),ue=t(29),be=t.n(ue),Oe=t(71),ve=t.n(Oe),xe=t(47),pe=t.n(xe);var _e=function(e){var c=e.name,t=e.description,n=e.isChannel,a=Object(s.useState)(!0),r=Object(i.a)(a,2),o=r[0],d=r[1];return Object(l.jsxs)("div",{className:"chatHeader",children:[Object(l.jsxs)("div",{className:"chatHeader__name",children:[Object(l.jsx)("span",{children:n?"#":"@"}),Object(l.jsx)("p",{children:c}),Object(l.jsx)("div",{className:"chatHeader__name__status"})]}),n?Object(l.jsx)("p",{className:"chatHeader__details",children:t}):"",Object(l.jsxs)("div",{className:"chatHeader__icons",children:[Object(l.jsxs)("div",{className:"chatHeader__icons__chat",children:[n?Object(l.jsx)(ie.a,{}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(de.a,{}),Object(l.jsx)(je.a,{})]}),Object(l.jsx)(he.a,{}),n?Object(l.jsx)(ve.a,{className:"showPeople",onClick:function(){var e=document.querySelector(".showPeople"),c=document.querySelector(".serverChat__members");o?(c.style.display="none",e.style.color="rgb(185, 187, 190)",d(!o)):(c.style.display="block",e.style.color="white",d(!o))},style:{color:"white"}}):Object(l.jsx)(be.a,{})]}),Object(l.jsxs)("div",{className:"chatHeader__icons__search",children:[Object(l.jsx)("input",{type:"text",placeholder:"Search"}),Object(l.jsx)(pe.a,{})]}),Object(l.jsxs)("div",{className:"chatHeader__icons__help",children:[Object(l.jsx)(ee.a,{}),Object(l.jsx)(te.a,{})]})]})]})},fe=(t(121),t(33)),ge=t.n(fe),Ne=t(56),Se=t.n(Ne),ye=t(72),Ce=t.n(ye),ke=t(48),Ie=t.n(ke),we=t(73),Ee=t.n(we),Fe=t(74),Le=t.n(Fe),Ue=t(75),He=t.n(Ue),Me=t(76),De=t.n(Me);var Be=function(e){var c=e.serverId,t=e.channelId,s=e.messageId,n=e.photo,a=e.name,r=e.content,o=e.timestamp,d=h(),j=Object(i.a)(d,1)[0].user;return Object(l.jsxs)("div",{className:"message",children:[Object(l.jsx)("img",{src:n,alt:a}),Object(l.jsxs)("div",{className:"message__main",children:[Object(l.jsxs)("div",{className:"message__main__header",children:[Object(l.jsx)("span",{className:"message__main__header__name",children:a}),Object(l.jsx)("span",{className:"message__main__header__timestamp",children:new Date(null===o||void 0===o?void 0:o.toDate()).toUTCString()})]}),Object(l.jsx)("p",{className:"message__main__content",children:r})]}),Object(l.jsxs)("div",{className:"message__icons",children:[Object(l.jsx)(ge.a,{}),Object(l.jsx)(Se.a,{}),Object(l.jsx)(Ce.a,{onClick:function(e){return function(e){var c="MuiSvgIcon-root"===e.className.baseVal?e.parentElement.lastElementChild:e.parentElement.parentElement.lastElementChild;c?"none"===c.style.display?c.style.display="block":c.style.display="none":console.log("No")}(e.target)}}),Object(l.jsxs)("div",{className:"message__iconsMore",children:[a===j.displayName?Object(l.jsxs)("div",{className:"message__iconsMore__option",children:[Object(l.jsx)("p",{children:"Edit Message"}),Object(l.jsx)(Ie.a,{})]}):"",c?"":Object(l.jsxs)("div",{className:"message__iconsMore__option",children:[Object(l.jsx)("p",{children:"Pin Message"}),Object(l.jsx)(he.a,{})]}),Object(l.jsxs)("div",{className:"message__iconsMore__option",children:[Object(l.jsx)("p",{children:"Reply"}),Object(l.jsx)(Se.a,{})]}),Object(l.jsxs)("div",{className:"message__iconsMore__option",children:[Object(l.jsx)("p",{children:"Mark Unread"}),Object(l.jsx)(Ee.a,{})]}),Object(l.jsxs)("div",{className:"message__iconsMore__option",children:[Object(l.jsx)("p",{children:"Reactions"}),Object(l.jsx)(ge.a,{})]}),Object(l.jsxs)("div",{className:"message__iconsMore__option",children:[Object(l.jsx)("p",{children:"Copy Message Link"}),Object(l.jsx)(Le.a,{})]}),Object(l.jsxs)("div",{className:"message__iconsMore__option",children:[Object(l.jsx)("p",{children:"Speak Message"}),Object(l.jsx)(He.a,{})]}),c&&a===j.displayName?Object(l.jsxs)("div",{className:"message__iconsMore__option delete",onClick:function(){c&&a&&x.doc("servers/".concat(c,"/channels/").concat(t,"/messages/").concat(s)).delete().then((function(){return console.log("Document has been deleted.")})).catch((function(e){return console.log("Error deleting document",e)}))},children:[Object(l.jsx)("p",{children:"Delete Message"}),Object(l.jsx)(De.a,{})]}):""]})]})]})},Te=(t(122),t(49)),Pe=t.n(Te),qe=t(77),Ae=t.n(qe),Re=t(78),Ve=t.n(Re);var Je=function(e){var c=e.name,t=e.serverId,n=e.channelId,a=h(),r=Object(i.a)(a,1)[0],o=r.user,d=r.userId,j=Object(s.useState)(""),m=Object(i.a)(j,2),b=m[0],O=m[1];return Object(l.jsx)("div",{className:"messageInput",children:Object(l.jsxs)("form",{className:"messageInput__inner",children:[Object(l.jsx)(Pe.a,{}),Object(l.jsx)("input",{type:"text",placeholder:"Message ".concat(t?"#":"@").concat(c),onChange:function(e){return O(e.target.value)},value:b}),Object(l.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),t?x.collection("servers/".concat(t,"/channels/").concat(n,"/messages")).add({content:b,timestamp:u.a.firestore.FieldValue.serverTimestamp(),name:o.displayName,photo:o.photoURL}):x.collection("users/".concat(d,"/messages")).add({content:b,timestamp:u.a.firestore.FieldValue.serverTimestamp(),to:c}),O("")}}),Object(l.jsx)(Ae.a,{}),Object(l.jsx)(Ve.a,{}),Object(l.jsx)(ge.a,{})]})})};var Ge=function(){var e=h(),c=Object(i.a)(e,1)[0],t=c.user,n=c.userId,a=Object(d.h)().chatId,r=Object(s.useState)({}),o=Object(i.a)(r,2),j=o[0],m=o[1],u=Object(s.useState)([]),b=Object(i.a)(u,2),O=b[0],v=b[1],p=Object(s.useState)([]),_=Object(i.a)(p,2),f=_[0],g=_[1],N=Object(s.useState)([]),S=Object(i.a)(N,2),y=(S[0],S[1]);return Object(s.useEffect)((function(){x.collection("users").doc(a).onSnapshot((function(e){m({name:e.data().name,photo:e.data().imgUrl})}))}),[a]),Object(s.useEffect)((function(){j.name&&x.collection("users/".concat(n,"/messages")).where("to","==",j.name).onSnapshot((function(e){v(e.docs.map((function(e){return{id:e.id,name:t.displayName,timestamp:e.data().timestamp,content:e.data().content}})))}))}),[j.name,t.displayName,n,a]),Object(s.useEffect)((function(){j.name&&x.collection("users/".concat(a,"/messages")).where("to","==",t.displayName).onSnapshot((function(e){g(e.docs.map((function(e){return{id:e.id,name:j.name,timestamp:e.data().timestamp,content:e.data().content}})))}))}),[j.name,t.displayName,a]),Object(s.useEffect)((function(){if(O&&f){var e=O;f.forEach((function(c){e.push(c)})),e&&y(e)}}),[O,f]),Object(l.jsxs)("div",{className:"homeChat",children:[Object(l.jsx)(_e,{name:j.name}),Object(l.jsxs)("div",{className:"homeChat__inner",children:[Object(l.jsxs)("div",{className:"homeChat__info",children:[Object(l.jsx)("img",{src:j.photo,alt:j.name}),Object(l.jsx)("p",{className:"homeChat__info__name",children:j.name}),Object(l.jsxs)("p",{children:["This is the beginning of your message history with @",Object(l.jsx)("span",{children:j.name})]})]}),Object(l.jsx)("div",{className:"homeChat__messages",children:O.map((function(e){return Object(l.jsx)(Be,{photo:t.displayName===e.name?t.photoURL:j.photo,name:e.name,content:e.content,timestamp:e.timestamp},e.id)}))}),Object(l.jsx)(Je,{name:j.name})]})]})};var We=function(){var e=Object(d.i)();return Object(l.jsxs)("div",{className:"home",children:[Object(l.jsx)(X,{}),Object(l.jsxs)(d.d,{children:[Object(l.jsx)(d.b,{path:"".concat(e.path,"/chats/:chatId"),children:Object(l.jsx)(Ge,{})}),Object(l.jsx)(d.b,{path:"".concat(e.path),children:Object(l.jsx)(ae,{})})]})]})};t(123),t(124),t(125);var Ke=function(e){var c=e.name,t=e.channelId,s=h(),n=Object(i.a)(s,1)[0].userId,a=Object(d.h)().serverId,r=Object(d.g)();return Object(l.jsxs)("div",{className:"channel ".concat("general"===c?"active":""),onClick:function(e){var c;c=e.target,document.querySelectorAll(".channel").forEach((function(e){return e.classList.remove("active")})),c.className||c.parentElement.classList.add("active"),"channel"===c.className&&c.classList.add("active"),r.push("/".concat(n,"/servers/").concat(a,"/channels/").concat(t))},children:[Object(l.jsx)("span",{children:"#"}),Object(l.jsx)("p",{children:c}),Object(l.jsx)("div",{className:"channel__addIcon",onClick:function(){var e=prompt("Invite a friend");e&&x.collection("users").where("name","==",e).onSnapshot((function(e){e.docs.length?e.forEach((function(e){x.collection("servers").doc(a).onSnapshot((function(c){x.collection("users").doc(e.id).update({serverNames:u.a.firestore.FieldValue.arrayUnion(c.data().name)})})),x.collection("servers/".concat(a,"/members")).add({name:e.data().name,nickname:e.data().name,photo:e.data().imgUrl})})):console.log("There is no user with the given name.")}))},children:Object(l.jsx)(be.a,{})})]})},Ye=(t(126),t(79)),ze=t.n(Ye),Xe=t(80),Qe=t.n(Xe),Ze=t(81),$e=t.n(Ze);var ec=function(e){var c=e.serverId,t=e.own,s=h(),n=Object(i.a)(s,1)[0],a=n.user,r=n.userId;return Object(l.jsxs)("div",{className:"serverSettings",children:[Object(l.jsxs)("div",{className:"serverSettings__row",children:[Object(l.jsx)("p",{children:"Server Boost"}),Object(l.jsx)("img",{src:"https://fiverr-res.cloudinary.com/images/q_auto,f_auto/gigs/185949638/original/9b2d7767c64f3a3409255d80de0c6aa3c419b5e5/give-you-nitro-boost-cheap-5dollars.jpg",alt:"Boost icon"})]}),Object(l.jsx)("hr",{}),Object(l.jsxs)("div",{className:"serverSettings__row invite",onClick:function(){var e=prompt("Invite a friend");e&&x.collection("users").where("name","==",e).onSnapshot((function(e){e.docs.length?e.forEach((function(e){x.collection("servers").doc(c).onSnapshot((function(c){x.collection("users").doc(e.id).update({serverNames:u.a.firestore.FieldValue.arrayUnion(c.data().name)})})),x.collection("servers/".concat(c,"/members")).add({name:e.data().name,nickname:e.data().name,photo:e.data().imgUrl})})):console.log("There is no user with the given name.")}))},children:[Object(l.jsx)("p",{children:"Invite People"}),Object(l.jsx)(be.a,{})]}),t?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"serverSettings__row",children:[Object(l.jsx)("p",{children:"Server Settings"}),Object(l.jsx)(R.a,{})]}),Object(l.jsxs)("div",{className:"serverSettings__row",onClick:function(){var e=prompt("The name of the new channel: "),t=prompt("Here you can add a short description to the new channel: ");e&&x.collection("servers/".concat(c,"/channels")).add({name:e,description:t}).then((function(){return console.log("The new channel has been successfully added.")})).catch((function(e){return console.log("Error adding the new channel: ",e)}))},children:[Object(l.jsx)("p",{children:"Create Channel"}),Object(l.jsx)(Pe.a,{})]}),Object(l.jsxs)("div",{className:"serverSettings__row",children:[Object(l.jsx)("p",{children:"Create Category"}),Object(l.jsx)(ze.a,{})]})]}):"",Object(l.jsxs)("div",{className:"serverSettings__row",children:[Object(l.jsx)("p",{children:"Notification Settings"}),Object(l.jsx)(ie.a,{})]}),Object(l.jsxs)("div",{className:"serverSettings__row",children:[Object(l.jsx)("p",{children:"Privacy Settings"}),Object(l.jsx)(Qe.a,{})]}),Object(l.jsx)("hr",{}),Object(l.jsxs)("div",{className:"serverSettings__row",onClick:function(){var e=prompt("Nickname: ");x.collection("servers/".concat(c,"/members")).where("name","==",a.displayName).onSnapshot((function(t){t.forEach((function(t){x.doc("servers/".concat(c,"/members/").concat(t.id)).update({nickname:e}).then((function(){return console.log("Document successfully updated!")})).catch((function(e){return console.log("Erro updating the document: ",e)}))}))}))},children:[Object(l.jsx)("p",{children:"Change Nickname"}),Object(l.jsx)(Ie.a,{})]}),Object(l.jsxs)("div",{className:"serverSettings__row",children:[Object(l.jsx)("p",{children:"Hide Muted Channels"}),Object(l.jsx)("input",{type:"checkbox",name:"muted",id:"muted"})]}),t?"":Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("hr",{}),Object(l.jsxs)("a",{href:"/",className:"serverSettings__row leave",onClick:function(){x.collection("servers/".concat(c,"/members")).where("name","==",a.displayName).onSnapshot((function(e){e.forEach((function(e){console.log(e.id),x.doc("servers/".concat(c,"/members/").concat(e.id)).delete().then((function(){return console.log("Member has been deleted from the server")})).catch((function(e){return console.log("Error deleting the member ",e)}))}))})),x.doc("servers/".concat(c)).onSnapshot((function(e){console.log(e.data().name),x.doc("users/".concat(r)).update({serverNames:u.a.firestore.FieldValue.arrayRemove(e.data().name)})}))},children:[Object(l.jsx)("p",{children:"Leave Server"}),Object(l.jsx)($e.a,{})]})]})]})},cc=t(82),tc=t.n(cc);var sc=function(){var e=h(),c=Object(i.a)(e,1)[0].user,t=Object(d.h)().serverId,n=Object(s.useState)({}),a=Object(i.a)(n,2),r=a[0],o=a[1],j=Object(s.useState)([]),m=Object(i.a)(j,2),u=m[0],b=m[1],O=Object(s.useState)(!1),v=Object(i.a)(O,2),p=v[0],_=v[1];return Object(s.useEffect)((function(){x.collection("servers/".concat(t,"/channels")).onSnapshot((function(e){b(e.docs.map((function(e){return{id:e.id,name:e.data().name}})))})),x.collection("servers").doc(t).onSnapshot((function(e){return o({name:e.data().name,owner:e.data().owner})}))}),[t]),Object(l.jsxs)("div",{className:"serverSidebar",children:[Object(l.jsxs)("div",{className:"serverSidebar__name",onClick:function(){var e=document.querySelector(".serverSettings");p?(e.style.display="none",_(!p)):(e.style.display="block",_(!p))},children:[Object(l.jsx)("p",{children:r.name}),p?Object(l.jsx)(F.a,{}):Object(l.jsx)(tc.a,{})]}),Object(l.jsx)("div",{className:"serverSidebar__channels",children:u.map((function(e){return Object(l.jsx)(Ke,{name:e.name,channelId:e.id},e.id)}))}),Object(l.jsx)(ec,{serverId:t,own:c.displayName===r.owner}),Object(l.jsx)(V,{})]})};t(127);var nc=function(e){var c=e.serverId,t=Object(d.h)().channelId,n=Object(s.useState)({}),a=Object(i.a)(n,2),r=a[0],o=a[1],j=Object(s.useState)([]),m=Object(i.a)(j,2),h=m[0],u=m[1],b=Object(s.useState)([]),O=Object(i.a)(b,2),v=O[0],p=O[1];return Object(s.useEffect)((function(){x.doc("servers/".concat(c,"/channels/").concat(t)).onSnapshot((function(e){o({id:e.id,name:e.data().name,description:e.data().description})}))}),[t,c]),Object(s.useEffect)((function(){x.collection("servers/".concat(c,"/members")).onSnapshot((function(e){p(e.docs.map((function(e){return{id:e.id,name:e.data().name,nickname:e.data().nickname,photo:e.data().photo}})))}))}),[c]),Object(s.useEffect)((function(){x.collection("servers/".concat(c,"/channels/").concat(t,"/messages")).orderBy("timestamp","asc").onSnapshot((function(e){u(e.docs.map((function(e){return{id:e.id,name:e.data().name,photo:e.data().photo,content:e.data().content,timestamp:e.data().timestamp}})))}))}),[c,t]),Object(l.jsxs)("div",{className:"serverChat",children:[Object(l.jsx)(_e,{name:r.name,description:r.description,isChannel:!0}),Object(l.jsxs)("div",{className:"serverChat__flex",children:[Object(l.jsxs)("div",{className:"help",children:[Object(l.jsxs)("div",{className:"serverChat__inner",children:[Object(l.jsxs)("div",{className:"serverChat__info",children:[Object(l.jsx)("div",{children:"#"}),Object(l.jsx)("p",{className:"serverChat__info__name",children:r.name}),Object(l.jsxs)("p",{children:["This is the beginning of your message history with #",Object(l.jsx)("span",{children:r.name})]})]}),Object(l.jsx)("div",{className:"serverChat__messages",children:h.map((function(e){return Object(l.jsx)(Be,{serverId:c,channelId:t,messageId:e.id,photo:e.photo,name:e.name,content:e.content,timestamp:e.timestamp},e.id)}))})]}),Object(l.jsx)(Je,{className:"serverChat__inner__messageInput",name:r.name,serverId:c,channelId:r.id})]}),Object(l.jsx)("div",{className:"serverChat__members",children:v.map((function(e){return Object(l.jsxs)("div",{className:"serverChat__members__member",children:[Object(l.jsx)(w.a,{src:e.photo,alt:e.nickname}),Object(l.jsx)("p",{children:e.nickname})]},e.id)}))})]})]})};var ac=function(){var e=h(),c=Object(i.a)(e,1)[0].user,t=Object(d.h)().serverId,n=Object(s.useState)(!0),a=Object(i.a)(n,2),r=a[0],o=a[1];return Object(s.useEffect)((function(){x.collection("servers/".concat(t,"/members")).where("name","==",c.displayName).onSnapshot((function(e){e.docs.length?o(!0):o(!1)}))}),[t,c.displayName]),Object(l.jsx)("div",{className:"server",children:r?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(sc,{}),Object(l.jsx)(nc,{serverId:t})]}):Object(l.jsx)(d.a,{to:"/error"})})},rc=(t(128),t(129),t(83)),ic=t.n(rc);var oc=function(e){var c=e.server,t=e.title,s=e.members,n=e.views;return Object(l.jsxs)("div",{className:"stage",children:[Object(l.jsxs)("div",{className:"stage__header",children:[Object(l.jsxs)("div",{className:"stage__header__title",children:[Object(l.jsx)(c.icon,{}),Object(l.jsx)("p",{children:c.name})]}),Object(l.jsxs)("div",{className:"stage__header__views",children:[Object(l.jsx)(ic.a,{}),Object(l.jsx)("span",{children:n})]})]}),Object(l.jsx)("h1",{className:"stage__title",children:t}),Object(l.jsx)("div",{className:"stage__participants",children:s.map((function(e){return Object(l.jsxs)("div",{className:"stage__participants__participant",children:[Object(l.jsx)(w.a,{src:e.photo,alt:e.name}),Object(l.jsx)("p",{children:e.name})]},e.name)}))})]})},dc=t(84),lc=t.n(dc);var jc=function(){return Object(l.jsxs)("div",{className:"discovery",children:[Object(l.jsxs)("div",{className:"discovery__header",children:[Object(l.jsxs)("div",{className:"discovery__header__menu",children:[Object(l.jsx)(K.a,{}),Object(l.jsx)("p",{children:"Stage Discovery"}),Object(l.jsx)("button",{children:"Start a stage"})]}),Object(l.jsxs)("div",{className:"discovery__header__icons",children:[Object(l.jsx)(lc.a,{}),Object(l.jsx)(ee.a,{}),Object(l.jsx)(te.a,{})]})]}),Object(l.jsxs)("div",{className:"discovery__main",children:[Object(l.jsxs)("div",{className:"discovery__main__feed",children:[Object(l.jsx)("h2",{children:"Live Stages"}),Object(l.jsx)("div",{className:"discovery__main__feed__stages",children:Object(l.jsx)(oc,{server:{icon:K.a,name:"The Chatter Box"},title:"Talent Show",members:[{photo:"",name:"laidoctorn"},{photo:"",name:"Corvo"},{photo:"",name:"Lillyy"}],views:142},"The Chatter Box")})]}),Object(l.jsx)(ne,{})]})]})};t(130);var mc=function(){return Object(l.jsx)("div",{className:"nitro",children:Object(l.jsxs)("div",{className:"nitro__header",children:[Object(l.jsx)(z.a,{}),Object(l.jsx)("p",{children:"Nitro"})]})})},hc=(t(131),t(132),t(85)),uc=t.n(hc),bc=t(86),Oc=t.n(bc),vc=t(87),xc=t.n(vc),pc=t(88),_c=t.n(pc),fc=t(89),gc=t.n(fc);var Nc=function(){var e=Object(d.g)(),c=function(e){var c=document.querySelectorAll(".discoverSidebar__menu__item");c.forEach((function(e){return e.classList.remove("active")})),c[e].classList.add("active")};return Object(l.jsxs)("div",{className:"discoverSidebar",children:[Object(l.jsx)("h1",{children:"Discover"}),Object(l.jsxs)("div",{className:"discoverSidebar__menu",children:[Object(l.jsxs)("div",{className:"discoverSidebar__menu__item active",onClick:function(){c(0),e.push("/guild-discovery/home")},children:[Object(l.jsx)(k.a,{}),Object(l.jsx)("p",{children:"Home"})]}),Object(l.jsxs)("div",{className:"discoverSidebar__menu__item",onClick:function(){c(1),e.push("/guild-discovery/gaming")},children:[Object(l.jsx)(uc.a,{}),Object(l.jsx)("p",{children:"Gaming"})]}),Object(l.jsxs)("div",{className:"discoverSidebar__menu__item",onClick:function(){c(2),e.push("/guild-discovery/music")},children:[Object(l.jsx)(Oc.a,{}),Object(l.jsx)("p",{children:"Music"})]}),Object(l.jsxs)("div",{className:"discoverSidebar__menu__item",onClick:function(){c(3),e.push("/guild-discovery/education")},children:[Object(l.jsx)(xc.a,{}),Object(l.jsx)("p",{children:"Education"})]}),Object(l.jsxs)("div",{className:"discoverSidebar__menu__item",onClick:function(){c(4),e.push("/guild-discovery/science")},children:[Object(l.jsx)(_c.a,{}),Object(l.jsx)("p",{children:"Science & Tech"})]}),Object(l.jsxs)("div",{className:"discoverSidebar__menu__item",onClick:function(){c(5),e.push("/guild-discovery/entertainment")},children:[Object(l.jsx)(gc.a,{}),Object(l.jsx)("p",{children:"Entertainment"})]})]}),Object(l.jsx)(V,{})]})},Sc=(t(133),t(134),t(90)),yc=t.n(Sc);var Cc=function(){return Object(l.jsxs)("div",{className:"card",children:[Object(l.jsx)("img",{src:"https://ak.picdn.net/shutterstock/videos/17568802/thumb/1.jpg",alt:"Card Background",className:"card__background"}),Object(l.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/ae/Flag_of_the_United_Kingdom.svg/640px-Flag_of_the_United_Kingdom.svg.png",alt:"Card logo",className:"card__logo"}),Object(l.jsxs)("div",{className:"card__title",children:[Object(l.jsx)(yc.a,{}),Object(l.jsx)("p",{children:"English"})]}),Object(l.jsx)("p",{className:"card__description",children:"Join the best place to practice your English skills with thousand of native speakers and other eager learners!"}),Object(l.jsxs)("div",{className:"card__data",children:[Object(l.jsxs)("div",{className:"card__data__online",children:[Object(l.jsx)("div",{className:"card__dataCircle green"}),Object(l.jsx)("span",{className:"card__dataNumber",children:"46242"}),Object(l.jsx)("span",{className:"crad__dataCategory",children:"Online"})]}),Object(l.jsxs)("div",{className:"card__data__members",children:[Object(l.jsx)("div",{className:"card__dataCircle grey"}),Object(l.jsx)("span",{className:"card__dataNumber",children:"266712"}),Object(l.jsx)("span",{className:"crad__dataCategory",children:"Members"})]})]})]})},kc=t(91),Ic=t.n(kc);var wc=function(){var e=Object(d.h)().category,c=Object(s.useState)(""),t=Object(i.a)(c,2),n=t[0],a=t[1];return Object(l.jsxs)("div",{className:"discoverFeed",children:[Object(l.jsxs)("div",{className:"discoverFeed__banner",children:[Object(l.jsxs)("h1",{className:"discoverFeed__banner__title",children:["Find ",Object(l.jsx)("span",{children:"home"===e?"your":e})," communities on Discord"]}),"home"===e?Object(l.jsx)("p",{children:"From gaming, to music, to learning, there's a place for you"}):"",Object(l.jsxs)("form",{className:"discoverFeed__banner__search",children:[Object(l.jsx)("input",{type:"text",placeholder:"Explore Home servers",value:n,onChange:function(e){return a(e.target.value)}}),n?Object(l.jsx)(Ic.a,{}):Object(l.jsx)(pe.a,{}),Object(l.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault()},children:"send"})]})]}),Object(l.jsxs)("h2",{children:["home"===e?"Featured":"Popular"," communities"]}),Object(l.jsx)("div",{className:"discoverFeed__cards",children:Object(l.jsx)(Cc,{})})]})};var Ec=function(){return Object(l.jsxs)("div",{className:"discover",children:[Object(l.jsx)(Nc,{}),Object(l.jsx)(wc,{})]})};t(135);var Fc=function(){return Object(l.jsx)("div",{className:"error",children:Object(l.jsx)("h1",{children:"You don't have access to this server!"})})};var Lc=function(){var e=h(),c=Object(i.a)(e,1)[0],t=c.user,s=c.userId;return Object(l.jsx)("div",{className:"app",children:Object(l.jsx)(o.a,{children:t?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(I,{}),Object(l.jsxs)(d.d,{children:[Object(l.jsx)(d.b,{path:"/home/".concat(s,"/friends"),children:Object(l.jsx)(We,{})}),Object(l.jsx)(d.b,{path:"/".concat(s,"/servers/new"),children:Object(l.jsx)("h1",{children:"New server"})}),Object(l.jsx)(d.b,{path:"/".concat(s,"/servers/:serverId/channels/:channelId"),children:Object(l.jsx)(ac,{})}),Object(l.jsx)(d.b,{path:"/guild-discovery/:category",children:Object(l.jsx)(Ec,{})}),Object(l.jsxs)(d.b,{path:"/discovery",children:[Object(l.jsx)(X,{}),Object(l.jsx)(jc,{})]}),Object(l.jsxs)(d.b,{path:"/store",children:[Object(l.jsx)(X,{}),Object(l.jsx)(mc,{})]}),Object(l.jsx)(d.b,{path:"/error",children:Object(l.jsx)(Fc,{})}),Object(l.jsx)(d.b,{path:"/",children:Object(l.jsx)(d.a,{to:"/home/".concat(s,"/friends")})})]})]}):Object(l.jsx)(g,{})})})},Uc=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,151)).then((function(c){var t=c.getCLS,s=c.getFID,n=c.getFCP,a=c.getLCP,r=c.getTTFB;t(e),s(e),n(e),a(e),r(e)}))};r.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(m,{initalState:{user:null,userId:null},reducer:f,children:Object(l.jsx)(Lc,{})})}),document.getElementById("root")),Uc()},97:function(e,c,t){},98:function(e,c,t){}},[[136,1,2]]]);
//# sourceMappingURL=main.1269ed86.chunk.js.map